# 유스케이스 시나리오
## 1. 회원가입
   - 행위자: Customer, Seller
   - 사전 조건: 없음
   - 후조건: 회원 정보가 저장되고, 사용자 역할에 따라 권한이 부여됨
   - 메인 시나리오:
     - 사용자는 이름, 이메일(ID), 비밀번호, 전화번호, 주소를 입력한다.
     - 시스템은 이메일 중복 여부를 확인한다.
     - 비밀번호는 암호화되어 저장된다.
     - 주소 정보는 카카오지도 API를 통해 주소, 위도, 경도, 우편번호가 등록된다.
     - 판매자는 사업자명, 사업자등록번호(ID), 비밀번호, 이메일을 입력한다.
     - 사업자등록번호 중복 여부를 확인한다.
     - 가입 완료 후, 해당 권한이 부여된다.
   - 예외 시나리오:
     - 이메일 또는 사업자등록번호가 중복되는 경우 가입 실패 메시지 출력

## 2. 로그인
- 행위자: Customer, Seller, Admin
- 사전 조건: 회원가입 완료
- 후조건: 사용자 권한에 따라 시스템에 접근 가능
- 메인 시나리오:
  - 사용자가 ID(이메일 또는 사업자등록번호)와 비밀번호를 입력한다.
  - 시스템은 비밀번호를 암호화하여 저장된 값과 비교한다.
  - 로그인에 성공하면 JWT 토큰이 생성된다.
- 예외 시나리오:
  - 로그인 실패 5회 초과 시, 임시 비밀번호 이메일 발송(mock)

## 3. 가게 관리
- 행위자: Seller
- 사전 조건: 로그인 완료
- 후조건: 가게 정보가 등록되며, 관리자의 승인 대기 상태가 됨
- 메인 시나리오:
  - 판매자가 매장명, 주소, 영업시간, 전화번호를 입력한다.
  - 주소 정보는 카카오지도 API를 통해 주소, 위도, 경도, 우편번호를 저장한다.
  - 관리자 승인 대기 상태로 전환된다.
- 예외 시나리오:
  - 필수 입력 누락 시 저장 불가

## 4. 가게 승인
- 행위자: Admin
- 사전 조건: 판매자가 가게 등록을 완료함
- 후조건: 가게가 서비스에 노출됨
- 메인 시나리오:
  - 관리자가 등록 요청된 가게 정보를 확인한다.
  - 승인 시 가게 정보가 활성화된다.
- 예외 시나리오:
  - 허위 정보 발견 시 승인 거절

## 5. 상품 관리
- 행위자: Seller
- 사전 조건: 가게 승인 완료
- 후조건: 상품 등록이 완료되고 상품이 노출됨
- 메인 시나리오:
  - 판매자가 상품명, 설명, 기존 가격, 세일 가격, 수량, 수령 가능 날짜/시간을 입력한다.
  - 상품 카테고리를 '음식', '베이커리', '식료품' 중에서 하나 선택한다.
  - 상품은 수령 가능 시간이 지나면 자동 비활성화 처리된다.
- 예외 시나리오:
  - 필수 항목 누락 시 등록 불가

## 6. 상품 조회
- 행위자: Customer
- 사전 조건: 로그인 완료, 가게 승인 및 상품 등록 완료
- 후조건: 사용자 위치 반경 내 상품 리스트 조회됨
- 메인 시나리오:
  - 사용자의 주소 기반으로 반경 내 상품을 조회한다.
  - 필터: 카테고리, 픽업 날짜
  - 정렬: 거리순, 재고임박순, 평점순 등
- 예외 시나리오:
  - 반경 내 가게 없음 → 빈 결과 반환

## 7. 예약
- 행위자: Customer
- 사전 조건: 로그인 완료
- 후조건: 예약 정보 저장
- 메인 시나리오:
  - 사용자가 상품을 선택하고 수량을 입력한다.
  - 예약 요청 시 중복 예약 및 재고 초과 여부를 확인한다.
  - 결제 유스케이스로 이동
- 예외 시나리오:
  - 수량 초과 예약 시 실패

## 8. 결제
- 행위자: Customer
- 사전 조건: 예약 요청
- 후조건: 예약 확정
- 메인 시나리오:
  - 사용자가 결제 수단을 선택한다.
  - 시스템은 결제 모듈(토스페이)을 호출한다.
  - 결제 성공 시 예약 확정된다.
- 예외 시나리오:
  - 결제 실패 시 예약 취소됨

## 9. 픽업 예약 조회
- 행위자: Customer, Seller
- 사전 조건: Customer 예약 및 결제 완료
- 후조건: 픽업 준비
- 메인 시나리오:
  - 판매자가 상품별 예약 리스트를 조회한다.
  - 예약자 이름, 전화번호, 픽업번호 표시된다.
  - 예약자는 본인이 결제한 픽업 예약 리스트를 조회한다.
  - 예약 취소는 픽업 전까지만 취소 가능하다.
- 예외 시나리오:
  - 해당 상품에 예약이 없는 경우 빈 리스트 반환

## 10. 픽업 완료 처리
- 행위자: Seller
- 사전 조건: 구매자 픽업 시간 도달
- 후조건: 픽업 완료 기록
- 메인 시나리오:
  - 예약자가 픽업번호를 제시한다.
  - 판매자가 해당 예약의 상태를 '픽업 완료'로 변경한다.
- 예외 시나리오:
  - 예약자 정보 불일치 시 처리 불가

## 11. 리뷰 작성
- 행위자: Customer
- 사전 조건: 픽업 완료
- 후조건: 리뷰 저장됨
- 메인 시나리오:
  - 사용자가 별점과 키워드를 선택하여 리뷰를 작성한다.
- 예외 시나리오:
  - 필수 항목 누락 시 작성 불가

## 12. 리뷰 조회
- 행위자: Customer, Seller
- 사전 조건: 리뷰가 등록됨
- 후조건: 조회 화면에 출력
- 메인 시나리오:
  - Customer: 상품 상세 페이지에서 평가수, 별점, 제일 많은 키워드 3개 항목 확인
  - Seller: 평가수, 별점, 각 키워드별 개수 확인
- 예외 시나리오:
  - 리뷰 없음 → '리뷰 없음' 메시지 표시

## 13. 상품 신고
- 행위자: Customer
- 사전 조건: 상품 구매 및 픽업 완료
- 후조건: 신고 내용 저장 및 관리자 확인 대기
- 메인 시나리오:
  - 사용자가 신고 사유를 작성한다.
  - 시스템은 관리자에게 전달한다.
- 예외 시나리오:
  - 없음

## 14. 계정 관리
- 행위자: Admin
- 사전 조건: 관리자 로그인
- 후조건: 사용자 또는 판매자 계정 상태 변경
- 메인 시나리오:
  - 관리자가 사용자 리스트를 조회한다.
  - 경고, 탈퇴, 권한 변경 가능하다.
- 예외 시나리오:
  - 없음

## 15. 신고 조치
- 행위자: Admin
- 사전 조건: 신고 접수 완료
- 후조건: 조치 내역 기록
- 메인 시나리오:
  - 관리자가 신고 내역을 확인한다.
  - 상품 수정 요청 또는 판매자 경고 처리한다.
- 예외 시나리오:
  - 신고 사유 불충분 → 조치 보류

